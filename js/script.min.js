var popupLetter=document.querySelector(".modal-letter");if(popupLetter)var linkLetter=document.querySelector(".contacts-button"),closeLetter=popupLetter.querySelector(".close"),form=popupLetter.querySelector(".letter-form"),inputName=popupLetter.querySelector(".letter-name"),inputMail=popupLetter.querySelector(".letter-mail"),areaText=popupLetter.querySelector(".letter-text"),isStorageSupport=!0,storageName="",storageMail="";var popupCart=document.querySelector(".modal-cart");if(popupCart)var linkCart=document.querySelectorAll(".button-to-cart"),closeCart=popupCart.querySelector(".close"),closeNext=popupCart.querySelector(".next-close");var popupMap=document.querySelector(".modal-map");if(popupMap)var linkMap=document.querySelector(".button-map"),closeMap=popupMap.querySelector(".close");var sliderMenu=document.querySelector(".menu-widget");if(sliderMenu)var slideList=sliderMenu.querySelectorAll(".menu-slide"),btnNext=sliderMenu.querySelector(".front-arrow"),btnBack=sliderMenu.querySelector(".back-arrow"),btnCircleList=sliderMenu.querySelectorAll(".circle-button");var sliderFeatures=document.querySelector(".features-widget");if(sliderFeatures)var slideFeatureList=sliderFeatures.querySelectorAll(".features-widget-slide"),btnFeatureList=sliderFeatures.querySelectorAll(".btn-slide");if(popupLetter){try{storageName=localStorage.getItem("inputName"),storageMail=localStorage.getItem("inputmail")}catch(e){isStorageSupport=!1}linkLetter.addEventListener("click",function(e){e.preventDefault(),popupLetter.classList.add("modal-show"),storageName||storageMail?storageName&&storageMail?(inputName.value=storageName,inputMail.value=storageMail,areaText.focus()):storageName?(inputName.value=storageName,inputMail.focus()):(inputMail.value=storageMail,inputName.focus()):inputName.focus()}),closeLetter.addEventListener("click",function(e){e.preventDefault(),popupLetter.classList.remove("modal-show"),popupLetter.classList.remove("modal-error")}),form.addEventListener("submit",function(e){inputName.value&&inputMail.value&&areaText.value?isStorageSupport&&(localStorage.setItem("inputName",inputName.value),localStorage.setItem("inputMail",inputMail.value)):(e.preventDefault(),popupLetter.classList.remove("modal-error"),popupLetter.offsetWidth=popupLetter.offsetWidth,popupLetter.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupLetter.classList.contains("modal-show")&&(popupLetter.classList.remove("modal-show"),popupLetter.classList.remove("modal-error")))})}if(popupCart){for(var i=0;i<linkCart.length;i++)linkCart[i].addEventListener("click",function(e){e.preventDefault(),popupCart.classList.add("modal-show")});closeCart.addEventListener("click",function(e){e.preventDefault(),popupCart.classList.remove("modal-show")}),closeNext.addEventListener("click",function(e){e.preventDefault(),popupCart.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupCart.classList.contains("modal-show")&&(popupCart.classList.remove("modal-show"),popupCart.classList.remove("modal-error")))})}if(popupMap&&(linkMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("modal-show")}),closeMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupMap.classList.contains("modal-show")&&(popupMap.classList.remove("modal-show"),popupMap.classList.remove("modal-error")))})),sliderMenu){var currentSlide=0,currentCircle=0;btnNext.addEventListener("click",function(e){e.preventDefault(),slideList[currentSlide].classList.remove("slide-menu-show"),btnCircleList[currentCircle].classList.remove("circle-button-current"),currentCircle++,++currentSlide!==slideList.length||(currentCircle=currentSlide=0),slideList[currentSlide].classList.add("slide-menu-show"),btnCircleList[currentSlide].classList.add("circle-button-current")}),btnBack.addEventListener("click",function(e){e.preventDefault(),slideList[currentSlide].classList.remove("slide-menu-show"),btnCircleList[currentCircle].classList.remove("circle-button-current"),0!==currentSlide?(currentCircle--,slideList[--currentSlide].classList.add("slide-menu-show")):(currentSlide=slideList.length-1,currentCircle=slideList.length-1,slideList[currentSlide].classList.add("slide-menu-show")),btnCircleList[currentCircle].classList.add("circle-button-current")});for(var getElement=function(t){return btnCircleList[t].addEventListener("click",function(e){e.preventDefault(),btnCircleList[t].classList.contains("circle-button-current")||(btnCircleList[currentCircle].classList.remove("circle-button-current"),slideList[currentSlide].classList.remove("slide-menu-show"),currentSlide=currentCircle=t,btnCircleList[currentCircle].classList.add("circle-button-current"),slideList[currentSlide].classList.add("slide-menu-show"))})},j=0;j<btnCircleList.length;j++)getElement(j)}if(sliderFeatures)for(var currentFeature=0,getElementFeatures=function(t){return btnFeatureList[t].addEventListener("click",function(e){e.preventDefault(),btnFeatureList[t].classList.contains("features-active")||(btnFeatureList[currentFeature].classList.remove("features-active"),slideFeatureList[currentFeature].classList.remove("features-widget-slide-active"),btnFeatureList[currentFeature=t].classList.add("features-active"),slideFeatureList[currentFeature].classList.add("features-widget-slide-active"))})},m=0;m<btnFeatureList.length;m++)getElementFeatures(m);
